(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{363:function(t,e,n){var content=n(450);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("0c7c9a32",content,!0,{sourceMap:!1})},364:function(t,e,n){var content=n(453);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("12e76032",content,!0,{sourceMap:!1})},383:function(t,e,n){"use strict";n(20),n(124),n(35),n(83),n(382),n(18),n(32);var c=n(101),r=n(10),o=n.n(r),l=n(0),d=n(410),h=n(345),f=n(375),m=n(342),v=n(125),y=n(469),w=l.a.extend({components:{DataViewExpantionPanel:y.a},props:{title:{type:String,default:""},titleId:{type:String,default:""},date:{type:String,default:""},headTitle:{type:String,default:""}},computed:{formattedDate:function(){return Object(v.c)(this.date)},formattedDateForDisplay:function(){return this.$d(new Date(this.date),"dateTime")},permalink:function(){var t="/cards/".concat(this.titleId);return this.localePath(t)}},head:function(){return this.$route.params.card?{title:this.headTitle?this.headTitle:this.title,meta:[{hid:"og:title",property:"og:title",content:this.headTitle?this.headTitle:this.title},{hid:"description",name:"description",content:this.date},{hid:"og:description",property:"og:description",content:this.date}]}:{}}}),x=(n(446),n(6)),D=Object(x.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"RollerView"},[n("div",{staticClass:"RollerView-Inner"},[n("div",{staticClass:"RollerView-Header",class:t.$slots.dataSetPanel?"with-dataSetPanel":""},[n("h3",{staticClass:"RollerView-Title",class:t.$slots.infoPanel?"with-infoPanel":t.$slots.dataSetPanel?"with-dataSetPanel":""},[t._v("\n        "+t._s(t.title)+"\n      ")]),t._v(" "),t.$slots.infoPanel?n("div",{staticClass:"RollerView-InfoPanel"},[t._t("infoPanel")],2):t._e(),t._v(" "),t.$slots.dataSetPanel?n("div",{staticClass:"RollerView-DataSetPanel"},[t._t("dataSetPanel")],2):t._e()]),t._v(" "),n("div",[t._t("button")],2),t._v(" "),n("div",{staticClass:"RollerView-Content"},[t._t("default")],2),t._v(" "),this.$slots.dataTable?n("data-view-expantion-panel",{staticClass:"RollerView-ExpantionPanel"},[t._t("dataTable")],2):t._e(),t._v(" "),n("div",{staticClass:"RollerView-Space"})],1)])}),[],!1,null,null,null).exports,k=n(374),C=n(127),$=n(373),_={created:function(){this.canvas=!0,this.dataKind=this.$route.query.embed&&"cumulative"===this.$route.query.dataKind?"cumulative":"transition"},components:{RollerView:D,DataSelector:d.a,DataViewDataSetPanel:h.a,DataViewTable:f.a,ScrollableChart:k.a,OpenDataLink:m.a},props:{title:{type:String,default:""},titleId:{type:String,default:""},chartId:{type:String,default:"time-bar-chart"},chartData:{type:Array,default:function(){return[]}},date:{type:String,required:!0},unit:{type:String,default:""},url:{type:String,default:""},yAxesBgPlugin:{type:Array,default:function(){return C.b}},byDate:{type:Boolean,default:!1}},data:function(){return{dataKind:"transition",canvas:!0}},computed:{displayCumulativeRatio:function(){var t=this.chartData.slice(-1)[0].cumulative,e=this.chartData.slice(-2)[0].cumulative;return this.formatDayBeforeRatio(t-e)},displayTransitionRatio:function(){var t=this.chartData.slice(-1)[0].transition,e=this.chartData.slice(-2)[0].transition;return this.formatDayBeforeRatio(t-e)},displayInfo:function(){var t=this.chartData.slice(-1)[0].label;return"transition"===this.dataKind&&this.byDate?{lText:"".concat(this.chartData.slice(-1)[0].transition.toLocaleString()),sText:"".concat(t," ").concat(this.$t("日別値"),"（").concat(this.$t("前日比"),": ").concat(this.displayTransitionRatio," ").concat(this.unit,"）"),unit:this.unit}:"transition"===this.dataKind?{lText:"".concat(this.chartData.slice(-1)[0].transition.toLocaleString()),sText:"".concat(t," ").concat(this.$t("実績値"),"（").concat(this.$t("前日比"),": ").concat(this.displayTransitionRatio," ").concat(this.unit,"）"),unit:this.unit}:{lText:this.chartData[this.chartData.length-1].cumulative.toLocaleString(),sText:"".concat(t," ").concat(this.$t("累計値"),"（").concat(this.$t("前日比"),": ").concat(this.displayCumulativeRatio," ").concat(this.unit,"）"),unit:this.unit}},displayData:function(){var style=Object($.b)(1)[0];return"transition"===this.dataKind?{labels:this.chartData.map((function(t){return t.label})),datasets:[{label:this.dataKind,data:this.chartData.map((function(t){return 0})),backgroundColor:"rgba(255,255,255,0)",borderColor:"rgba(255,255,255,0)",borderWidth:0,minBarLength:this.chartData.map((function(t){return t.transition<=0?5:0}))},{label:this.dataKind,data:this.chartData.map((function(t){return t.transition})),backgroundColor:style.fillColor,borderColor:style.strokeColor,borderWidth:1}]}:{labels:this.chartData.map((function(t){return t.label})),datasets:[{label:this.dataKind,data:this.chartData.map((function(t){return 0})),backgroundColor:"rgba(255,255,255,0)",borderColor:"rgba(255,255,255,0)",borderWidth:0,minBarLength:this.chartData.map((function(t){return t.cumulative<=0?5:0}))},{label:this.dataKind,data:this.chartData.map((function(t){return t.cumulative})),backgroundColor:style.fillColor,borderColor:style.strokeColor,borderWidth:1}]}},displayOption:function(){var t=this,e=this.unit,n={tooltips:{displayColors:!1,callbacks:{label:function(t){return"".concat(parseInt(t.value).toLocaleString()," ").concat(e)},title:function(e,data){var label=data.labels[e[0].index];return t.$d(new Date(Object(v.d)(label)),"dateWithoutYear")}}},maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{id:"day",stacked:!0,gridLines:{display:!1},ticks:{fontSize:9,maxTicksLimit:20,fontColor:"#808080",maxRotation:0,callback:function(label){return label.split("/")[1]}}},{id:"month",stacked:!0,gridLines:{drawOnChartArea:!1,drawTicks:!0,drawBorder:!1,tickMarkLength:10},ticks:{fontSize:11,fontColor:"#808080",padding:3,fontStyle:"bold"},type:"time",time:{unit:"month",parser:"M/D",displayFormats:{month:"MMM"}}}],yAxes:[{stacked:!0,gridLines:{display:!0,color:"#E5E5E5"},ticks:{suggestedMin:0,maxTicksLimit:8,fontColor:"#808080",suggestedMax:this.scaledTicksYAxisMax}}]}};return"true"===this.$route.query.ogp&&Object.assign(n,{animation:{duration:0}}),n},displayDataHeader:function(){return"transition"===this.dataKind?{labels:["2020/1/1"],datasets:[{data:[Math.max.apply(Math,Object(c.a)(this.chartData.map((function(t){return t.transition}))))],backgroundColor:"transparent",borderWidth:0}]}:{labels:["2020/1/1"],datasets:[{data:[Math.max.apply(Math,Object(c.a)(this.chartData.map((function(t){return t.cumulative}))))],backgroundColor:"transparent",borderWidth:0}]}},displayOptionHeader:function(){return{maintainAspectRatio:!1,legend:{display:!1},tooltips:{enabled:!1},scales:{xAxes:[{id:"day",stacked:!0,gridLines:{display:!1},ticks:{fontSize:9,maxTicksLimit:20,fontColor:"transparent",maxRotation:0,minRotation:0,callback:function(label){return label.split("/")[1]}}},{id:"month",stacked:!0,gridLines:{drawOnChartArea:!1,drawTicks:!1,drawBorder:!1,tickMarkLength:10},ticks:{fontSize:11,fontColor:"transparent",padding:13,fontStyle:"bold",callback:function(label){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(label.split(" ")[0])+1+"月"}},type:"time",time:{unit:"month"}}],yAxes:[{stacked:!0,gridLines:{display:!0,drawOnChartArea:!1,color:"#E5E5E5"},ticks:{suggestedMin:0,maxTicksLimit:8,fontColor:"#808080"}}]},animation:{duration:0}}},scaledTicksYAxisMax:function(){var t="transition"===this.dataKind?"transition":"cumulative",e=this.chartData.map((function(e){return e[t]}));return Math.max.apply(Math,Object(c.a)(e))},tableHeaders:function(){return[{text:this.$t("日付"),value:"text"},{text:"".concat(this.title," (").concat(this.$t("日別"),")"),value:"transition",align:"end"},{text:"".concat(this.title," (").concat(this.$t("累計"),")"),value:"cumulative",align:"end"}]},tableData:function(){var t=this;return this.chartData.map((function(e,n){return{text:t.$d(new Date(Object(v.d)(e.label)),"dateWithoutYear"),transition:e.transition.toLocaleString(),cumulative:e.cumulative.toLocaleString()}})).sort((function(a,b){return o()(a.text).unix()-o()(b.text).unix()})).reverse()}},methods:{formatDayBeforeRatio:function(t){var e=t.toLocaleString();switch(Math.sign(t)){case 1:return"+".concat(e);case-1:default:return"".concat(e)}}},mounted:function(){var canvas=this.$refs.barChart.$el.querySelector("canvas"),t="".concat(this.titleId,"-graph");canvas&&(canvas.setAttribute("role","img"),canvas.setAttribute("aria-labelledby",t))}},S=l.a.extend(_),R=Object(x.a)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("roller-view",{attrs:{title:t.title,"title-id":t.titleId,date:t.date},scopedSlots:t._u([{key:"button",fn:function(){return[n("data-selector",{style:{display:t.canvas?"inline-block":"none"},attrs:{"target-id":t.chartId},model:{value:t.dataKind,callback:function(e){t.dataKind=e},expression:"dataKind"}})]},proxy:!0},{key:"dataTable",fn:function(){return[n("data-view-table",{attrs:{headers:t.tableHeaders,items:t.tableData}})]},proxy:!0},{key:"infoPanel",fn:function(){return[n("data-view-data-set-panel",{attrs:{"l-text":t.displayInfo.lText,"s-text":t.displayInfo.sText,unit:t.displayInfo.unit}})]},proxy:!0},{key:"footer",fn:function(){return[n("open-data-link",{directives:[{name:"show",rawName:"v-show",value:t.url,expression:"url"}],attrs:{url:t.url}})]},proxy:!0}])},[t._v(" "),n("h4",{staticClass:"visually-hidden",attrs:{id:t.titleId+"-graph"}},[t._v("\n    "+t._s(t.$t("{title}のグラフ",{title:t.title}))+"\n  ")]),t._v(" "),n("scrollable-chart",{directives:[{name:"show",rawName:"v-show",value:t.canvas,expression:"canvas"}],attrs:{"display-data":t.displayData},scopedSlots:t._u([{key:"chart",fn:function(e){var c=e.chartWidth;return[n("bar",{ref:"barChart",attrs:{"chart-id":t.chartId,"chart-data":t.displayData,options:t.displayOption,height:240,width:c}})]}},{key:"sticky-chart",fn:function(){return[n("bar",{staticClass:"sticky-legend",attrs:{"chart-id":t.chartId+"-header","chart-data":t.displayDataHeader,options:t.displayOptionHeader,plugins:t.yAxesBgPlugin,height:240}})]},proxy:!0}])})],1)}),[],!1,null,null,null);e.a=R.exports},394:function(t,e,n){var content=n(447);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("93cfbec0",content,!0,{sourceMap:!1})},446:function(t,e,n){"use strict";n(394)},447:function(t,e,n){(e=n(16)(!1)).push([t.i,".RollerView-Header{display:flex;flex-flow:column;align-items:flex-start;padding:0 10px}@media screen and (min-width:769px){.RollerView-Header{padding:0 5px}}@media screen and (min-width:1171px){.RollerView-Header{flex-flow:row;justify-content:space-between;padding:0}.RollerView-Header.with-dataSetPanel{flex-flow:column}}.RollerView-Inner{display:flex;flex-flow:column;height:100%;padding:11px}.RollerView-Title{width:100%;margin-bottom:10px;font-weight:400;line-height:1.5;color:#4d4d4d;font-size:2rem}.RollerView-Title.with-dataSetPanel{margin-bottom:0}@media screen and (min-width:1171px){.RollerView-Title{margin-bottom:0}.RollerView-Title.with-infoPanel{flex:0 1 auto;margin-right:24px}}.RollerView-Title span{display:inline-block}.RollerView-InfoPanel{flex:1 0 auto;max-width:50%}.RollerView-DataSetPanel{flex:1 0 auto;width:100%}.RollerView-Content{margin:16px 0}.RollerView-Space{margin-top:10px}.RollerView-ExpantionPanel{margin-bottom:10px}",""]),t.exports=e},448:function(t){t.exports=JSON.parse('{"date":"2020/08/21 23:59","nowTotal":{"ac":1115,"co":1082},"data":[{"date":"2020-07-31","accept":31,"collect":0},{"date":"2020-08-01","accept":60,"collect":31},{"date":"2020-08-02","accept":164,"collect":87},{"date":"2020-08-03","accept":88,"collect":60},{"date":"2020-08-04","accept":156,"collect":59},{"date":"2020-08-05","accept":142,"collect":60},{"date":"2020-08-06","accept":127,"collect":58},{"date":"2020-08-07","accept":40,"collect":60},{"date":"2020-08-08","accept":62,"collect":56},{"date":"2020-08-09","accept":24,"collect":80},{"date":"2020-08-10","accept":22,"collect":82},{"date":"2020-08-11","accept":22,"collect":82},{"date":"2020-08-12","accept":23,"collect":82},{"date":"2020-08-13","accept":24,"collect":83},{"date":"2020-08-14","accept":16,"collect":38},{"date":"2020-08-15","accept":30,"collect":29},{"date":"2020-08-16","accept":17,"collect":14},{"date":"2020-08-17","accept":8,"collect":24},{"date":"2020-08-18","accept":31,"collect":38},{"date":"2020-08-19","accept":13,"collect":20},{"date":"2020-08-20","accept":0,"collect":28},{"date":"2020-08-21","accept":15,"collect":11}]}')},449:function(t,e,n){"use strict";var c=n(363),r=n.n(c);n.d(e,"default",(function(){return r.a}))},450:function(t,e,n){(e=n(16)(!1)).push([t.i,".border_3l8M9{border:1px solid #ddd}",""]),e.locals={border:"border_3l8M9"},t.exports=e},451:function(t){t.exports=JSON.parse('{"date":"2020/09/07 23:59","nowTotal":{"ac":476,"co":422},"data":[{"date":"2020-08-21","accept":82,"collect":0},{"date":"2020-08-22","accept":124,"collect":38},{"date":"2020-08-23","accept":55,"collect":48},{"date":"2020-08-24","accept":83,"collect":49},{"date":"2020-08-25","accept":46,"collect":51},{"date":"2020-08-26","accept":19,"collect":50},{"date":"2020-08-27","accept":28,"collect":49},{"date":"2020-08-28","accept":13,"collect":44},{"date":"2020-08-29","accept":5,"collect":44},{"date":"2020-08-30","accept":0,"collect":27},{"date":"2020-08-31","accept":6,"collect":0},{"date":"2020-09-01","accept":3,"collect":6},{"date":"2020-09-02","accept":6,"collect":0},{"date":"2020-09-03","accept":1,"collect":0},{"date":"2020-09-04","accept":3,"collect":9},{"date":"2020-09-05","accept":2,"collect":0},{"date":"2020-09-06","accept":0,"collect":7}]}')},452:function(t,e,n){"use strict";var c=n(364),r=n.n(c);n.d(e,"default",(function(){return r.a}))},453:function(t,e,n){(e=n(16)(!1)).push([t.i,".border_P0DSw{border:1px solid #ddd}",""]),e.locals={border:"border_P0DSw"},t.exports=e},498:function(t,e,n){"use strict";n(20),n(59),n(58),n(60);var c=n(10),r=n.n(c),o=n(341),l=n(383),d=n(448),h={components:{DataView:o.a,RollerChart:l.a},data:function(){var t=r()(d.date).format("YYYY/MM/DD HH:mm"),data=d.data,e=new Date,n=[],c=[],o=0,l=0;return data.filter((function(t){return new Date(t.date)<e})).forEach((function(t){var e=new Date(t.date);isNaN(t.accept)||isNaN(t.collect)||(o+=t.accept,l+=t.collect,n.push({label:"".concat(e.getMonth()+1,"/").concat(e.getDate()),transition:t.accept,cumulative:o}),c.push({label:"".concat(e.getMonth()+1,"/").concat(e.getDate()),transition:t.collect,cumulative:l}))})),{Data:d,chartDataAccept:n,chartDataCollect:c,updatedAt:t}}},f=n(449),m=n(6),v=n(42),y=n.n(v),w=n(692);var component=Object(m.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-col",{staticClass:"DataCard",attrs:{cols:"12",md:"6"}},[n("client-only",[n("data-view",{attrs:{title:t.$t("水戸市"),"title-id":"roller/mito",date:t.updatedAt},scopedSlots:t._u([{key:"description",fn:function(){return[n("ul",[n("li",[t._v(t._s(t.$t("8月21日まで実施")))])])]},proxy:!0}])},[t._v(" "),n("p",{class:t.$style.border}),t._v(" "),n("roller-chart",{attrs:{title:t.$t("受付人数"),"chart-id":"mito-city-pcr-roller-accept","chart-data":t.chartDataAccept,date:t.updatedAt}}),t._v(" "),n("p",{class:t.$style.border}),t._v(" "),n("roller-chart",{attrs:{title:t.$t("検体採取済人数"),"chart-id":"mito-city-pcr-roller-collect","chart-data":t.chartDataCollect,date:t.updatedAt}}),t._v(" "),n("data-view",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{title:t.$t("水戸市「PCR検査ローラー作戦」の状況"),"title-id":"",date:t.updatedAt}})],1)],1)],1)}),[],!1,(function(t){this.$style=f.default.locals||f.default}),null,null);e.a=component.exports;y()(component,{VCol:w.a})},501:function(t,e,n){"use strict";n(20),n(59),n(58),n(60);var c=n(10),r=n.n(c),o=n(341),l=n(383),d=n(451),h={components:{DataView:o.a,RollerChart:l.a},data:function(){var t=r()(d.date).format("YYYY/MM/DD HH:mm"),data=d.data,e=new Date,n=[],c=[],o=0,l=0;return data.filter((function(t){return new Date(t.date)<e})).forEach((function(t){var e=new Date(t.date);isNaN(t.accept)||isNaN(t.collect)||(o+=t.accept,l+=t.collect,n.push({label:"".concat(e.getMonth()+1,"/").concat(e.getDate()),transition:t.accept,cumulative:o}),c.push({label:"".concat(e.getMonth()+1,"/").concat(e.getDate()),transition:t.collect,cumulative:l}))})),{Data:d,chartDataAccept:n,chartDataCollect:c,updatedAt:t}}},f=n(452),m=n(6),v=n(42),y=n.n(v),w=n(692);var component=Object(m.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-col",{staticClass:"DataCard",attrs:{cols:"12",md:"6"}},[n("client-only",[n("data-view",{attrs:{title:t.$t("つくば市天久保"),"title-id":"roller/tsukuba-amakubo",date:t.updatedAt},scopedSlots:t._u([{key:"description",fn:function(){return[n("ul",[n("li",[t._v(t._s(t.$t("9月6日まで実施")))])])]},proxy:!0}])},[t._v(" "),n("p",{class:t.$style.border}),t._v(" "),n("roller-chart",{attrs:{title:t.$t("受付人数"),"chart-id":"tsukuba-amakubo-pcr-roller-accept","chart-data":t.chartDataAccept,date:t.updatedAt}}),t._v(" "),n("p",{class:t.$style.border}),t._v(" "),n("roller-chart",{attrs:{title:t.$t("検体採取済人数"),"chart-id":"tsukuba-amakubo-pcr-roller-collect","chart-data":t.chartDataCollect,date:t.updatedAt}}),t._v(" "),n("data-view",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{title:t.$t("つくば市天久保「PCR検査ローラー作戦」の状況"),"title-id":"",date:t.updatedAt}})],1)],1)],1)}),[],!1,(function(t){this.$style=f.default.locals||f.default}),null,null);e.a=component.exports;y()(component,{VCol:w.a})},696:function(t,e,n){"use strict";n.r(e);n(20);var c=n(498),r=n(501),o=n(54),l={components:{Mito:c.a,TsukubaAmakubo:r.a,ErrorCard:o.a},data:function(){var t,e=!1;switch(this.$route.params.card){case"mito":t="mito";break;case"tsukuba-amakubo":t="tsukuba-amakubo";break;default:e=!0}return{cardComponent:t,err:e,title:void 0,updatedAt:void 0}},head:function(){var t=this,e="https://ibaraki.stopcovid19.jp",n=(new Date).getTime(),c="ja"===this.$i18n.locale?"".concat(e,"/ogp/roller_").concat(this.$route.params.card,".png?t=").concat(n):"".concat(e,"/ogp/").concat(this.$i18n.locale,"/roller_").concat(this.$route.params.card,".png?t=").concat(n),r="".concat(this.$t("当サイトは新型コロナウイルス感染症 (COVID-19) に関する最新情報を提供するために、茨城県内の有志が開設したものです。")),o="".concat(this.$t("茨城県")," ").concat(this.$t("新型コロナウイルス感染症")).concat(this.$t("対策サイト"));return{titleTemplate:function(title){return"".concat(t.title||title," | ").concat(o)},link:["cards/roller/".concat(this.$route.params.card)],meta:[{hid:"og:url",property:"og:url",content:"".concat(e).concat(this.$route.path,"/")},{hid:"og:title",property:"og:title",template:function(title){return"".concat(t.title||title," | ").concat(o)},content:""},{hid:"description",name:"description",template:function(e){return"".concat(t.updatedAt||e," | ").concat(r)},content:""},{hid:"og:description",property:"og:description",template:function(e){return"".concat(t.updatedAt||e," | ").concat(r)},content:""},{hid:"og:image",property:"og:image",content:c},{hid:"twitter:image",name:"twitter:image",content:c}]}}},d=n(6),component=Object(d.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.err?e("error-card",{attrs:{error:{statusCode:404}}}):e(this.cardComponent,{tag:"component"})],1)}),[],!1,null,null,null);e.default=component.exports}}]);