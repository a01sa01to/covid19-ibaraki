(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{828:function(t,e,n){"use strict";n.r(e);var r=n(69),c=n(31),o=n.n(c),l=n(0),d={name:"DateRangeSelector",props:{chartData:{type:Array,required:!0,default:function(){return[]}},value:{type:Array,required:!0},withAverage:{type:Boolean,default:!1}},data:function(){return{mdiCalendar:r.e,datePickerMax:this.indexToDate(this.chartData.length-1,"YYYY-MM-DD",!0),datePickerMin:this.indexToDate(0,"YYYY-MM-DD",!0),locale:this.$i18n.locale,startDayMenu:!1,startDay:this.indexToDate(this.value[0],"YYYY-MM-DD",!0),startDayMax:o()(this.indexToDate(this.value[1],"YYYY-MM-DD",!0)).add(-13,"day").format("YYYY-MM-DD"),startDayFormatted:this.indexToDate(this.value[0]),startDayActivePicker:"",endDayMenu:!1,endDay:this.indexToDate(this.value[1],"YYYY-MM-DD",!0),endDayMin:o()(this.indexToDate(this.value[0],"YYYY-MM-DD",!0)).add(13,"day").format("YYYY-MM-DD"),endDayFormatted:this.indexToDate(this.value[1]),endDayActivePicker:""}},methods:{indexToDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"date",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.chartData&&0!==this.chartData.length?(t>=this.chartData.length&&(t=this.chartData.length-1),n&&this.withAverage?o()(this.chartData[t]).format(e):this.withAverage?this.$d(new Date(this.chartData[t]),e):n?o()(this.chartData[t].label).format(e):this.$d(new Date(this.chartData[t].label),e)):1},dateToIndex:function(t){if(!this.chartData||0===this.chartData.length)return 0;for(var i=0;i<this.chartData.length;i++)if(this.withAverage){if(this.chartData[i]===t)return i}else if(this.chartData[i].label===t)return i;return 0},save:function(t,e){t?(this.endDay=o()(e).format("YYYY-MM-DD"),this.startDayMax=o()(e).add(-13,"day").format("YYYY-MM-DD"),this.endDayFormatted=this.$d(new Date(e),"date"),this.endDayMenu=!1):(this.startDay=o()(e).format("YYYY-MM-DD"),this.endDayMin=o()(e).add(13,"day").format("YYYY-MM-DD"),this.startDayFormatted=this.$d(new Date(e),"date"),this.startDayMenu=!1),this.$emit("input",[this.dateToIndex(this.startDay),this.dateToIndex(this.endDay)])}}},D=l.default.extend(d),h=n(28),v=n(68),y=n.n(v),f=n(675),M=n(816),Y=n(490),m=n(812),k=n(559),component=Object(h.a)(D,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("client-only",[n("div",[n("p",{staticClass:"ml-2",staticStyle:{"font-size":"1.2em",color:"#707070"}},[t._v("\n      "+t._s(t.$t("こちらからデータの表示期間を変更できます。ここで変更した表示期間は、他のデータには影響しません。初期状態では、最新8週間分のデータを表示しています。最小表示期間は2週間です。"))+"\n    ")]),t._v(" "),n("div",{staticClass:"mt-6 mb-3"},[n("v-menu",{ref:"startDayMenu",staticClass:"ml-3",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,c=e.attrs;return[n("v-text-field",t._g(t._b({staticClass:"ml-3",attrs:{label:t.$t("開始日"),readonly:"",dense:""},model:{value:t.startDayFormatted,callback:function(e){t.startDayFormatted=e},expression:"startDayFormatted"}},"v-text-field",c,!1),r))]}}]),model:{value:t.startDayMenu,callback:function(e){t.startDayMenu=e},expression:"startDayMenu"}},[t._v(" "),n("v-date-picker",{attrs:{"active-picker":t.startDayActivePicker,max:t.startDayMax,min:t.datePickerMin,locale:t.locale,"full-width":""},on:{"update:activePicker":function(e){t.startDayActivePicker=e},"update:active-picker":function(e){t.startDayActivePicker=e}},model:{value:t.startDay,callback:function(e){t.startDay=e},expression:"startDay"}},[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.startDayMenu=!1}}},[t._v("\n            "+t._s(t.$t("キャンセル"))+"\n          ")]),t._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.save(!1,t.startDay)}}},[t._v("\n            OK\n          ")])],1)],1),t._v(" "),n("v-menu",{ref:"endDayMenu",staticClass:"ml-3",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,c=e.attrs;return[n("v-text-field",t._g(t._b({staticClass:"ml-3",attrs:{label:t.$t("終了日"),readonly:"",dense:""},model:{value:t.endDayFormatted,callback:function(e){t.endDayFormatted=e},expression:"endDayFormatted"}},"v-text-field",c,!1),r))]}}]),model:{value:t.endDayMenu,callback:function(e){t.endDayMenu=e},expression:"endDayMenu"}},[t._v(" "),n("v-date-picker",{attrs:{"active-picker":t.endDayActivePicker,max:t.datePickerMax,min:t.endDayMin,locale:t.locale,"full-width":""},on:{"update:activePicker":function(e){t.endDayActivePicker=e},"update:active-picker":function(e){t.endDayActivePicker=e}},model:{value:t.endDay,callback:function(e){t.endDay=e},expression:"endDay"}},[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.endDayMenu=!1}}},[t._v("\n            "+t._s(t.$t("キャンセル"))+"\n          ")]),t._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.save(!0,t.endDay)}}},[t._v(" OK ")])],1)],1)],1)])])}),[],!1,null,null,null);e.default=component.exports;y()(component,{VBtn:f.a,VDatePicker:M.a,VMenu:Y.a,VSpacer:m.a,VTextField:k.a})}}]);